@using System.Web
@using System.Web.Mvc.Html
@using CultureITS.Helpers

@helper LoginForm()
{
    var Html = ((System.Web.Mvc.WebViewPage)WebPageContext.Current.Page).Html;

    if (HttpContext.Current.Session.IsAuthorized())
    {
    @Html.ActionLink("Выход", "Logout", "Account", new { Area = "" }, new { @class = "button" })
    }
    else
    {
    @Html.ActionLink("Войти", "Login", "Account", new { Area = "" }, new { @class = "button" })
    @Html.ActionLink("Зарегистрироваться", "Register", "Account", new { Area = "" }, new { @class = "button" })
    }
}

@helper TopMenu()
{
    var Html = ((System.Web.Mvc.WebViewPage)WebPageContext.Current.Page).Html;

    <li class="brand">@Html.ActionLink(System.Configuration.ConfigurationManager.AppSettings["ApplicationTitle"], "Index", "Home", new { area = "" }, null)</li>
    foreach (var i in HttpContext.Current.Session.GetMenu())
    {
    <li>@Html.ActionLink(i.Title, i.Action, i.Controller, new { Area = i.Area ?? "" }, null)</li>   
    }
}